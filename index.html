<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ignacio Aguayo - Creative Technologist</title>
    <!-- Tailwind CSS for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        /* Custom styles to complement Tailwind */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0f1e; 
        }
        #starfield-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        #supernova-core {
            transform: translate(-50%, -50%);
            background: radial-gradient(ellipse at center, rgba(255,255,255,1) 0%, rgba(255,204,153,1) 35%, rgba(255,153,51,1) 60%, rgba(255,255,255,0) 100%);
            box-shadow: 0 0 50px 20px #fff, 0 0 100px 60px #f0f, 0 0 150px 100px #0ff;
            animation: pulse 1.5s infinite ease-in-out;
        }
        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.8; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.8; }
        }
        
        #modal-body {
             /* Stronger, more noticeable gradient */
             background-image: radial-gradient(ellipse at 50% 0%, rgba(45, 59, 99, 0.9) 0%, transparent 80%);
        }
        
        /* Custom Scrollbar for Body */
        body::-webkit-scrollbar {
            width: 12px;
        }
        body::-webkit-scrollbar-track {
            background: #0a0f1e;
        }
        body::-webkit-scrollbar-thumb {
            background-color: #1e3a8a;
            border-radius: 20px;
            border: 3px solid #0a0f1e;
        }

        /* Custom Scrollbar for Modal */
        #modal-content::-webkit-scrollbar {
            width: 8px;
        }
        #modal-content::-webkit-scrollbar-track {
            background: #1e293b; /* slate-800 */
        }
        #modal-content::-webkit-scrollbar-thumb {
            background: #3b82f6; /* blue-500 */
            border-radius: 4px;
        }
        #modal-content::-webkit-scrollbar-thumb:hover {
            background: #2563eb; /* blue-600 */
        }

        /* Video container for correct aspect ratio */
        .video-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* Nav link hover effect */
        .nav-link {
            position: relative;
            padding-bottom: 4px;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background-color: #3b82f6;
            transition: width 0.3s ease-in-out;
        }
        .nav-link:hover::after {
            width: 100%;
        }

        /* Language Toggle Switch */
        .lang-toggle-label {
            width: 50px;
            height: 26px;
        }
        .lang-toggle-label:before {
            content: '';
            position: absolute;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            background: white;
            transition: transform 0.3s ease;
        }
        .lang-toggle:checked + .lang-toggle-label:before {
            transform: translateX(24px);
        }

        /* (NEW) Custom Scrollbar for Project List */
        #more-projects-list::-webkit-scrollbar {
            width: 8px;
        }
        #more-projects-list::-webkit-scrollbar-track {
            background: #111827; /* gray-900 */
        }
        #more-projects-list::-webkit-scrollbar-thumb {
            background: #1e3a8a; /* blue-800 */
            border-radius: 4px;
        }
        #more-projects-list::-webkit-scrollbar-thumb:hover {
            background: #1d4ed8; /* blue-700 */
        }
    </style>
</head>
<body class="text-gray-300 opacity-0">

    <!-- Canvas for the starfield animation -->
    <canvas id="starfield-canvas"></canvas>

    <!-- ========== HEADER / NAVBAR ========== -->
    <header class="bg-[#0a0f1e]/80 backdrop-blur-lg shadow-sm shadow-blue-500/10 sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-6">
                <a href="#inicio">
                     <!-- (REVERTED) Original path -->
                    <img src="assets/Logo.png" alt="Logo del Portafolio" class="h-24 rounded-full">
                </a>
                <!-- Language Toggle -->
                <div class="hidden md:flex items-center space-x-2">
                    <span class="font-semibold text-sm" data-lang-key="langEN">EN</span>
                    <input type="checkbox" id="lang-toggle" class="lang-toggle hidden">
                    <label for="lang-toggle" class="lang-toggle-label relative bg-blue-600 rounded-full cursor-pointer"></label>
                    <span class="font-semibold text-sm" data-lang-key="langES">ES</span>
                </div>
            </div>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#sobre-mi" class="nav-link text-gray-300 hover:text-blue-400 transition duration-300" data-lang-key="navAbout">Sobre Mí</a>
                <a href="#proyectos" class="nav-link text-gray-300 hover:text-blue-400 transition duration-300" data-lang-key="navProjects">Proyectos</a>
                <a href="#contacto" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 shadow-lg shadow-blue-500/20 transition duration-300" data-lang-key="navContact">Contáctame</a>
            </div>
            <!-- Mobile Menu Button -->
            <button id="mobile-menu-btn" class="md:hidden text-gray-300">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                </svg>
            </button>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pt-2 pb-4 space-y-2">
            <a href="#sobre-mi" class="block text-gray-300 hover:text-blue-400 transition duration-300" data-lang-key="navAboutMobile">Sobre Mí</a>
            <a href="#proyectos" class="block text-gray-300 hover:text-blue-400 transition duration-300" data-lang-key="navProjectsMobile">Proyectos</a>
            <a href="#contacto" class="block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 shadow-md transition duration-300 mt-2" data-lang-key="navContactMobile">Contáctame</a>
        </div>
    </header>

    <main class="container mx-auto px-6 relative z-10">

        <!-- ========== HERO SECTION ========== -->
        <section id="inicio" class="text-center py-24 md:py-32 flex flex-col items-center">
            <h1 class="text-4xl md:text-6xl font-extrabold text-white leading-tight mb-4" data-lang-key="heroTitle">
                Hola, soy <span class="text-blue-400">Ignacio Aguayo</span>
            </h1>
            <p class="text-xl md:text-2xl text-gray-400 max-w-3xl mb-8" data-lang-key="heroSubtitle">
                Creative Technologist. Construyo experiencias interactivas que conectan el mundo digital y el físico.
            </p>

            <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 mt-8">
                <a href="#proyectos" class="bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold text-lg hover:bg-blue-700 shadow-lg shadow-blue-500/30 transform hover:scale-105 transition-all duration-300" data-lang-key="heroBtnProjects">
                    Ver mis Proyectos
                </a>
                <a href="#contacto" class="bg-gray-700/50 text-gray-200 px-8 py-3 rounded-lg font-semibold text-lg hover:bg-gray-700/80 shadow-lg transform hover:scale-105 transition-all duration-300" data-lang-key="heroBtnContact">
                    Hablemos
                </a>
            </div>
        </section>

        <!-- ========== ABOUT ME SECTION ========== -->
        <section id="sobre-mi" class="py-20">
            <div class="max-w-4xl mx-auto">
                <div class="flex flex-col md:flex-row items-center gap-12">
                    <!-- GIF Character (REVERTED) Original path -->
                    <div class="w-full md:w-1/3 flex-shrink-0">
                        <img src="assets/personaje_saludando.gif" alt="Personaje saludando" class="w-full max-w-xs mx-auto">
                    </div>
                    <!-- About Me Text -->
                    <div class="w-full md:w-2/3 text-center md:text-left">
                        <h2 class="text-3xl md:text-4xl font-bold text-gray-100 mb-4" data-lang-key="aboutTitle">Sobre Mí</h2>
                        <p id="bio-paragraph" class="text-lg text-gray-400" data-lang-key="aboutBio">
                            Soy un tecnólogo creativo apasionado por la intersección del arte y el código. Mi enfoque es la creación de experiencias inmersivas e interactivas que desafían la percepción y conectan con las personas a un nivel más profundo.
                        </p>
                    </div>
                </div>

                <!-- Skills -->
                <div class="bg-gray-800/50 backdrop-blur-sm border border-blue-500/20 p-8 rounded-2xl shadow-lg text-left mt-20">
                    <h3 class="text-2xl font-bold text-white mb-6 text-center" data-lang-key="skillsTitle">Mis Habilidades</h3>
                    <div id="skills-list" class="flex flex-wrap justify-center gap-4">
                        <span class="bg-blue-900/50 text-blue-300 px-4 py-2 rounded-full font-medium" data-lang-key="skillUnity">Unity</span>
                        <span class="bg-blue-900/50 text-blue-300 px-4 py-2 rounded-full font-medium" data-lang-key="skillVrAr">Desarrollo VR/AR</span>
                        <span class="bg-blue-900/50 text-blue-300 px-4 py-2 rounded-full font-medium" data-lang-key="skillMobile">Mobile Apps</span>
                        <span class="bg-blue-900/50 text-blue-300 px-4 py-2 rounded-full font-medium" data-lang-key="skillTouchdesigner">TouchDesigner</span>
                        <span class="bg-blue-900/50 text-blue-300 px-4 py-2 rounded-full font-medium" data-lang-key="skillUiUx">UX/UI Design</span>
                        <span class="bg-blue-900/50 text-blue-300 px-4 py-2 rounded-full font-medium" data-lang-key="skillInteractive">Experiencias Interactivas</span>
                        <span class="bg-blue-900/50 text-blue-300 px-4 py-2 rounded-full font-medium" data-lang-key="skillShaders">Shaders & Visuales Generativos</span>
                        <span class="bg-blue-900/50 text-blue-300 px-4 py-2 rounded-full font-medium" data-lang-key="skillCreativeCoding">Creative Coding</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- ========== PROJECTS SECTION ========== -->
        <section id="proyectos" class="py-20 text-center">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-100 mb-2" data-lang-key="projectsTitle">Proyectos Destacados</h2>
            <p class="text-lg text-gray-400 mb-12" data-lang-key="projectsSubtitle">Una selección de mis mejores trabajos.</p>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                
                <!-- Project Card 1 -->
                <button class="bg-gray-800/50 backdrop-blur-sm border border-blue-500/20 rounded-2xl shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 group text-left w-full"
                        data-modal-trigger 
                        data-lang-key-prefix="p1m"
                        data-title="Galería Circular Interactiva" 
                        data-subtitle="Navegación Inmersiva con TouchDesigner" 
                        data-video-id="13Ajb89Q01Q"
                        data-challenge="El desafío fue crear una forma innovadora de presentar imágenes, buscando una experiencia que superara la visualización estática y fomentara una interacción más profunda."
                        data-process="Para lograr una interacción intuitiva, opté por el hand tracking como método de control. El principal reto técnico fue combinar la galería esférica con la precisión del seguimiento de manos, lo que requirió un diseño gestual cuidadoso y optimización para asegurar una experiencia fluida."
                        data-tech='["TouchDesigner", "Hand Tracking", "Visuales Generativos"]'>
                    <div class="w-full h-48 flex items-center justify-center bg-slate-900/50">
                         <!-- (REVERTED) Original path -->
                        <img src="assets/GaleriaCircular.png" alt="Imagen del Proyecto Galería Circular Interactiva" class="max-w-full max-h-full object-contain">
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-white mb-2" data-lang-key="p1Title">Galería Circular Interactiva</h3>
                        <p class="text-gray-400 mb-4" data-lang-key="p1Desc">
                            Experiencia en TouchDesigner con una galería circular controlada por hand tracking.
                        </p>
                        <div class="font-semibold text-blue-400 group-hover:text-blue-300 transition-colors duration-300">
                            <span data-lang-key="pBtnDetails">Ver Detalles</span> &rarr;
                        </div>
                    </div>
                </button>

                <!-- Project Card 2 -->
                <button class="bg-gray-800/50 backdrop-blur-sm border border-blue-500/20 rounded-2xl shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 group text-left w-full"
                        data-modal-trigger
                        data-lang-key-prefix="p2m"
                        data-title="Armonías Gestuales: IA Visual Interactiva"
                        data-subtitle="Creación de Contenido con Gestos y Algoritmos"
                        data-video-id="cLHNCb-TEV8"
                        data-challenge="El reto era desarrollar una experiencia que permitiera generar visuales a través del movimiento de las manos, fusionando la expresión física con la generación algorítmica de imágenes."
                        data-process="Implementé el seguimiento de manos en tiempo real a través de TouchDesigner para capturar y traducir los movimientos a parámetros que alimentaran una red neuronal generativa. El principal desafío fue optimizar la respuesta de la IA para que las imágenes se generaran de forma fluida y coherente con la intención gestual."
                        data-tech='["TouchDesigner", "Inteligencia Artificial", "Hand Tracking", "Visuales Generativos"]'>
                    <div class="w-full h-48 flex items-center justify-center bg-slate-900/50">
                        <!-- (REVERTED) Original path -->
                        <img src="assets/IaGenerativaManos.png" alt="Imagen del Proyecto IA Generativa" class="max-w-full max-h-full object-contain">
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-white mb-2" data-lang-key="p2Title">Armonías Gestuales: IA Visual Interactiva</h3>
                        <p class="text-gray-400 mb-4" data-lang-key="p2Desc">
                            Aplicación en TouchDesigner que genera imágenes con IA a partir de los gestos de las manos.
                        </p>
                        <div class="font-semibold text-blue-400 group-hover:text-blue-300 transition-colors duration-300">
                            <span data-lang-key="pBtnDetails">Ver Detalles</span> &rarr;
                        </div>
                    </div>
                </button>

                <!-- Project Card 3 -->
                 <button class="bg-gray-800/50 backdrop-blur-sm border border-blue-500/20 rounded-2xl shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 group text-left w-full"
                        data-modal-trigger
                        data-lang-key-prefix="p3m"
                        data-title="Deconstrucción 3D Interactiva"
                        data-subtitle="Exhibición y Manipulación de Modelos 3D con Gestos"
                        data-video-id="3derrG_z0mo"
                        data-challenge="El principal desafío fue crear una forma innovadora y atractiva de exhibir modelos 3D, permitiendo a los usuarios interactuar con ellos de manera divertida y significativa, como controlando su deconstrucción o cambiando los modelos con las manos."
                        data-process="Desarrollé esta experiencia en TouchDesigner, enfocándome en la integración del hand tracking para una manipulación intuitiva. Lo más complejo fue diseñar los algoritmos de deconstrucción y el sistema de reconocimiento gestual que permitiera a los usuarios controlar los modelos 3D en tiempo real, ofreciendo una interacción fluida y reactiva con los objetos virtuales."
                        data-tech='["TouchDesigner", "Hand Tracking", "Diseño 3D", "Visuales Generativos"]'>
                    <div class="w-full h-48 flex items-center justify-center bg-slate-900/50">
                        <!-- (REVERTED) Original path -->
                        <img src="assets/Deconstruccion.png" alt="Imagen del Proyecto Deconstrucción 3D" class="max-w-full max-h-full object-contain">
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-white mb-2" data-lang-key="p3Title">Deconstrucción 3D Interactiva</h3>
                        <p class="text-gray-400 mb-4" data-lang-key="p3Desc">
                            Experiencia interactiva que deconstruye modelos 3D usando hand tracking en TouchDesigner.
                        </p>
                       <div class="font-semibold text-blue-400 group-hover:text-blue-300 transition-colors duration-300">
                           <span data-lang-key="pBtnDetails">Ver Detalles</span> &rarr;
                       </div>
                    </div>
                </button>

                <!-- Project Card 4 -->
                <button class="bg-gray-800/50 backdrop-blur-sm border border-blue-500/20 rounded-2xl shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 group text-left w-full"
                        data-modal-trigger
                        data-lang-key-prefix="p4m"
                        data-title="Galería VR para Fotógrafos"
                        data-subtitle="Exhibición Virtual Inmersiva en Concepción"
                        data-video-id="X7vD2CPHX5M"
                        data-challenge="El reto era diseñar una galería virtual inmersiva para un evento de fotógrafos en Concepción, que permitiera exhibir sus obras de una manera innovadora y envolvente utilizando la realidad virtual."
                        data-process="Trabajé en Unity, diseñando la arquitectura virtual de la galería y la disposición de los cuadros. La decoración y la ambientación se realizaron a medida según los requerimientos del evento, buscando crear un espacio que realzara las obras fotográficas. La implementación se optimizó para funcionar fluidamente en dispositivos Meta Quest 2."
                        data-tech='["Unity", "Desarrollo VR", "Meta Quest 2", "Diseño 3D", "UI/UX VR"]'>
                    <div class="w-full h-48 flex items-center justify-center bg-slate-900/50">
                        <!-- (REVERTED) Original path -->
                        <img src="assets/galeriavr.png" alt="Imagen del Proyecto Galería VR" class="max-w-full max-h-full object-contain">
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-white mb-2" data-lang-key="p4Title">Galería VR para Fotógrafos</h3>
                        <p class="text-gray-400 mb-4" data-lang-key="p4Desc">
                            App de galería virtual en VR para Meta Quest 2, diseñada para un evento de fotógrafos.
                        </p>
                        <div class="font-semibold text-blue-400 group-hover:text-blue-300 transition-colors duration-300">
                            <span data-lang-key="pBtnDetails">Ver Detalles</span> &rarr;
                        </div>
                    </div>
                </button>
                
                <!-- Project Card 5 -->
                <button class="bg-gray-800/50 backdrop-blur-sm border border-blue-500/20 rounded-2xl shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 group text-left w-full"
                        data-modal-trigger
                        data-lang-key-prefix="p5m"
                        data-title="App Móvil para Bomberos"
                        data-subtitle="Herramienta de Entrenamiento para Emergencias"
                        data-video-id="7icD6LN7ihA"
                        data-challenge="El principal desafío fue crear una herramienta de entrenamiento digital para bomberos, que les permitiera aprender y repasar la ubicación del material en el carro bomba, así como consultar procedimientos vitales, de una forma cómoda e intuitiva."
                        data-process="Desarrollé la aplicación en Unity, enfocándome en la creación de modelos 3D detallados de las herramientas y el carro. La interfaz fue diseñada como una herramienta de estudio eficaz, con un sistema de navegación optimizado para el aprendizaje y la consulta rápida de procedimientos clave, como el manual IFTA, fortaleciendo así su preparación para emergencias reales."
                        data-tech='["Unity", "C#", "Mobile Development", "Diseño UI/UX", "Modelado 3D"]'>
                    <div class="w-full h-48 flex items-center justify-center bg-slate-900/50">
                        <!-- (REVERTED) Original path -->
                        <img src="assets/Bomberos.png" alt="Imagen del Proyecto App Bomberos" class="max-w-full max-h-full object-contain">
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-white mb-2" data-lang-key="p5Title">App Móvil para Bomberos</h3>
                        <p class="text-gray-400 mb-4" data-lang-key="p5Desc">
                            Diseño de app para ubicar material y consultar procedimientos en carros bomba.
                        </p>
                        <div class="font-semibold text-blue-400 group-hover:text-blue-300 transition-colors duration-300">
                            <span data-lang-key="pBtnDetails">Ver Detalles</span> &rarr;
                        </div>
                    </div>
                </button>

                <!-- Project Card 6 -->
                <button class="bg-gray-800/50 backdrop-blur-sm border border-blue-500/20 rounded-2xl shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 group text-left w-full"
                        data-modal-trigger
                        data-lang-key-prefix="p6m"
                        data-title="PalCarrete App"
                        data-subtitle="Juego Móvil Dinámico para Eventos Sociales"
                        data-video-id="VuBYKSHcFio"
                        data-challenge="El reto fue desarrollar un juego de beber móvil que fuera gratuito, entretenido y que ofreciera una experiencia dinámica para evitar la monotonía, a diferencia de otras opciones existentes en el mercado."
                        data-process="El desarrollo se centró en Unity. Lo más complejo fue diseñar e implementar el sistema de jugadores y la asignación aleatoria y justa de cartas. Se creó una arquitectura modular para los retos, permitiendo su dinamismo y el cambio constante del orden de aparición para asegurar la rejugabilidad."
                        data-tech='["Unity", "C#", "Mobile Development", "Game Design"]'>
                    <div class="w-full h-48 flex items-center justify-center bg-slate-900/50">
                        <!-- (REVERTED) Original path -->
                        <img src="assets/PalCarrete.png" alt="Imagen del Proyecto PalCarrete App" class="max-w-full max-h-full object-contain">
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-white mb-2" data-lang-key="p6Title">PalCarrete App</h3>
                        <p class="text-gray-400 mb-4" data-lang-key="p6Desc">
                            Aplicación móvil para beber con sistema de retos, castigos y diferentes tarjetas de juego.
                        </p>
                        <div class="font-semibold text-blue-400 group-hover:text-blue-300 transition-colors duration-300">
                            <span data-lang-key="pBtnDetails">Ver Detalles</span> &rarr;
                        </div>
                    </div>
                </button>

            </div>
        </section>

        <!-- ========== MÁS PROYECTOS SECTION ========== -->
        <section id="mas-proyectos" class="py-20">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-100 mb-2 text-center" data-lang-key="moreProjectsTitle">Más Proyectos</h2>
            <p class="text-lg text-gray-400 mb-12 text-center" data-lang-key="moreProjectsSubtitle">Otros trabajos y exploraciones creativas.</p>

            <!-- Filter Buttons -->
            <div id="filter-buttons-more" class="flex flex-wrap justify-center gap-4 mb-8">
                <button class="filter-btn-more bg-blue-600 text-white px-5 py-2 rounded-lg font-semibold transition-colors duration-300" data-category="all">Todos</button>
                <button class="filter-btn-more bg-gray-700/50 text-gray-200 hover:bg-gray-700/80 px-5 py-2 rounded-lg font-semibold transition-colors duration-300" data-category="touchdesigner" data-lang-key="moreProjectsCategoryTD">TouchDesigner</button>
                <button class="filter-btn-more bg-gray-700/50 text-gray-200 hover:bg-gray-700/80 px-5 py-2 rounded-lg font-semibold transition-colors duration-300" data-category="unity" data-lang-key="moreProjectsCategoryUnity">Unity</button>
                <button class="filter-btn-more bg-gray-700/50 text-gray-200 hover:bg-gray-700/80 px-5 py-2 rounded-lg font-semibold transition-colors duration-300" data-category="3d" data-lang-key="moreProjectsCategory3D">Modelado</button>
                <button class="filter-btn-more bg-gray-700/50 text-gray-200 hover:bg-gray-700/80 px-5 py-2 rounded-lg font-semibold transition-colors duration-300" data-category="animacion" data-lang-key="moreProjectsCategoryAnim">Animación</button>
            </div>

            <div class="bg-gray-800/50 backdrop-blur-sm border border-blue-500/10 rounded-2xl shadow-lg overflow-hidden lg:grid lg:grid-cols-3 gap-0">
                
                <!-- Columna Izquierda: Lista de Proyectos -->
                <div id="more-projects-list" class="lg:col-span-1 h-96 lg:h-[600px] overflow-y-auto border-r border-blue-500/10">
                    <!-- Los proyectos se cargan aquí por JS -->
                </div>

                <!-- Columna Derecha: Detalle del Proyecto -->
                <div class="lg:col-span-2 p-8 h-[600px] flex flex-col">
                    <!-- Placeholder -->
                    <div id="detail-placeholder" class="flex-grow flex flex-col justify-center items-center text-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-blue-700 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                        </svg>
                        <h3 class="text-2xl font-bold text-white" data-lang-key="moreProjectsSelect">Selecciona un proyecto de la lista para ver los detalles.</h3>
                    </div>
                    
                    <!-- Content (hidden by default) -->
                    <div id="detail-content" class="hidden flex-grow flex flex-col">
                        <h3 id="detail-title" class="text-3xl font-bold text-white mb-4"></h3>
                        <div class="video-container rounded-lg overflow-hidden mb-6">
                            <iframe id="detail-video" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                        <p id="detail-desc" class="text-lg text-gray-400"></p>
                    </div>
                </div>
            </div>
        </section>


        <!-- ========== CONTACT SECTION ========== -->
        <section id="contacto" class="py-20 text-center">
            <div class="bg-gray-800/50 backdrop-blur-sm border border-blue-500/20 rounded-2xl shadow-lg p-10 max-w-3xl mx-auto">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-100 mb-2" data-lang-key="contactTitle">Hablemos</h2>
                <p class="text-lg text-gray-400 mb-8" data-lang-key="contactSubtitle">
                    ¿Tienes un proyecto en mente o una oportunidad para mí? ¡No dudes en contactarme!
                </p>
                <div class="relative max-w-md mx-auto">
                    <div class="bg-slate-900/50 border border-blue-500/20 rounded-lg flex items-center justify-between p-2">
                        <p id="email-text" class="text-gray-300 text-lg px-4">i.aguayo2212@gmail.com</p>
                        <button id="copy-email-btn" class="bg-blue-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-blue-700 transition-colors" data-lang-key="contactBtnCopy">Copiar</button>
                    </div>
                    <div id="copy-feedback" class="absolute -bottom-8 left-1/2 -translate-x-1/2 bg-green-500 text-white text-sm px-3 py-1 rounded-md opacity-0 transition-opacity" data-lang-key="contactCopyFeedback">
                        ¡Copiado!
                    </div>
                </div>
            </div>
        </section>

    </main>
    
    <!-- ========== FOOTER ========== -->
    <footer class="bg-gray-900/50 mt-20">
        <div class="container mx-auto px-6 py-8 text-center">
            <p data-lang-key="footerRights">&copy; 2025 Ignacio Aguayo. Todos los derechos reservados.</p>
            <div class="mt-8">
                <button id="destroy-btn" class="bg-red-700 text-white px-6 py-2 rounded-lg font-semibold hover:bg-red-800 shadow-lg shadow-red-500/30 transform hover:scale-105 transition-all duration-300" data-lang-key="footerBtnDestroy">
                    ¡Destruir Página!
                </button>
            </div>
        </div>
    </footer>

    <!-- ========== PROJECT MODAL ========== -->
    <div id="project-modal" class="fixed inset-0 bg-black bg-opacity-70 z-[100] flex justify-center items-center p-4 opacity-0 pointer-events-none transition-opacity duration-300">
        <div id="modal-content" class="relative bg-[#0d1323] border border-blue-500/20 rounded-2xl shadow-lg w-full max-w-6xl max-h-[90vh] overflow-y-auto transform scale-95 transition-all duration-300">
            <!-- Close Button -->
            <button id="modal-close-btn" class="absolute top-4 right-4 text-gray-400 hover:text-white transition-transform duration-200 transform hover:scale-110 z-10">
                <div class="bg-gray-800/50 rounded-full p-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </div>
            </button>
            
            <!-- Modal Body -->
            <div id="modal-body">
                 <div class="p-8">
                     <!-- Project Title -->
                    <h1 id="modal-title" class="text-4xl md:text-5xl font-extrabold text-white leading-tight mb-2 text-center mt-8"></h1>
                    <p id="modal-subtitle" class="text-lg text-blue-400 mb-8 text-center"></p>

                     <!-- Project Media (Video) -->
                    <div class="video-container rounded-lg overflow-hidden mb-8">
                        <iframe id="modal-video" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>

                    <div class="px-4 sm:px-8">
                         <!-- Project Details -->
                        <div class="grid md:grid-cols-3 gap-8 text-lg">
                            <div class="md:col-span-1">
                                <h2 class="text-2xl font-bold text-white mb-4" data-lang-key="modalChallenge">El Desafío</h2>
                                <p id="modal-challenge" class="text-gray-400 text-justify"></p>
                            </div>
                            <div class="md:col-span-2">
                                <h2 class="text-2xl font-bold text-white mb-4" data-lang-key="modalProcess">Mi Proceso</h2>
                                <p id="modal-process" class="text-gray-400 text-justify"></p>
                            </div>
                        </div>

                         <!-- Technologies Used -->
                        <div class="mt-12 bg-gray-800/50 p-6 rounded-xl">
                            <h3 class="text-xl font-bold text-white mb-4 text-center" data-lang-key="modalTech">Tecnologías Utilizadas</h3>
                            <div id="modal-tech" class="flex flex-wrap justify-center gap-3"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Supernova and Reset Elements -->
    <div id="supernova-core" class="hidden fixed top-1/2 left-1/2 w-8 h-8 rounded-full z-[200]"></div>
    <div id="reset-overlay" class="hidden fixed inset-0 bg-white z-[250] flex justify-center items-center flex-col opacity-0 transition-opacity duration-1000">
        <h2 class="text-4xl text-gray-800 mb-8 text-center px-4" data-lang-key="resetTitle">¿Qué has hecho? ¡Mi portafolio! :c</h2>
        <button id="reset-btn" class="bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold text-lg hover:bg-blue-700" data-lang-key="resetBtn">
            Explorar de Nuevo
        </button>
    </div>


    <script>
        // --- TRANSLATION SCRIPT ---
        const translations = {
            es: {
                // Nav
                navAbout: "Sobre Mí",
                navProjects: "Proyectos",
                navContact: "Contáctame",
                navAboutMobile: "Sobre Mí",
                navProjectsMobile: "Proyectos",
                navContactMobile: "Contáctame",
                langEN: "EN",
                langES: "ES",
                // Hero
                heroTitle: 'Hola, soy <span class="text-blue-400">Ignacio Aguayo</span>',
                heroSubtitle: "Creative Technologist. Construyo experiencias interactivas que conectan el mundo digital y el físico.",
                heroBtnProjects: "Ver mis Proyectos",
                heroBtnContact: "Hablemos",
                // About
                aboutTitle: "Sobre Mí",
                aboutBio: "Soy un tecnólogo creativo apasionado por la intersección del arte y el código. Mi enfoque es la creación de experiencias inmersivas e interactivas que desafían la percepción y conectan con las personas a un nivel más profundo.",
                // Skills
                skillsTitle: "Mis Habilidades",
                skillUnity: "Unity",
                skillVrAr: "Desarrollo VR/AR",
                skillMobile: "Mobile Apps",
                skillTouchdesigner: "TouchDesigner",
                skillUiUx: "UX/UI Design",
                skillInteractive: "Experiencias Interactivas",
                skillShaders: "Shaders & Visuales Generativos",
                skillCreativeCoding: "Creative Coding",
                // Projects
                projectsTitle: "Proyectos Destacados",
                projectsSubtitle: "Una selección de mis mejores trabajos.",
                pBtnDetails: "Ver Detalles",
                p1Title: "Galería Circular Interactiva",
                p1Desc: "Experiencia en TouchDesigner con una galería circular controlada por hand tracking.",
                p2Title: "Armonías Gestuales: IA Visual Interactiva",
                p2Desc: "Aplicación en TouchDesigner que genera imágenes con IA a partir de los gestos de las manos.",
                p3Title: "Deconstrucción 3D Interactiva",
                p3Desc: "Experiencia interactiva que deconstruye modelos 3D usando hand tracking en TouchDesigner.",
                p4Title: "Galería VR para Fotógrafos",
                p4Desc: "App de galería virtual en VR para Meta Quest 2, diseñada para un evento de fotógrafos.",
                p5Title: "App Móvil para Bomberos",
                p5Desc: "Diseño de app para ubicar material y consultar procedimientos en carros bomba.",
                p6Title: "PalCarrete App",
                p6Desc: "Aplicación móvil para beber con sistema de retos, castigos y diferentes tarjetas de juego.",
                // Modal
                modalChallenge: "El Desafío",
                modalProcess: "Mi Proceso",
                modalTech: "Tecnologías Utilizadas",
                p1mTitle: "Galería Circular Interactiva",
                p1mSubtitle: "Navegación Inmersiva con TouchDesigner",
                p1mChallenge: "El desafío fue crear una forma innovadora de presentar imágenes, buscando una experiencia que superara la visualización estática y fomentara una interacción más profunda.",
                p1mProcess: "Para lograr una interacción intuitiva, opté por el hand tracking como método de control. El principal reto técnico fue combinar la galería esférica con la precisión del seguimiento de manos, lo que requirió un diseño gestual cuidadoso y optimización para asegurar una experiencia fluida.",
                p2mTitle: "Armonías Gestuales: IA Visual Interactiva",
                p2mSubtitle: "Creación de Contenido con Gestos y Algoritmos",
                p2mChallenge: "El reto era desarrollar una experiencia que permitiera generar visuales a través del movimiento de las manos, fusionando la expresión física con la generación algorítmica de imágenes.",
                p2mProcess: "Implementé el seguimiento de manos en tiempo real a través de TouchDesigner para capturar y traducir los movimientos a parámetros que alimentaran una red neuronal generativa. El principal desafío fue optimizar la respuesta de la IA para que las imágenes se generaran de forma fluida y coherente con la intención gestual.",
                p3mTitle: "Deconstrucción 3D Interactiva",
                p3mSubtitle: "Exhibición y Manipulación de Modelos 3D con Gestos",
                p3mChallenge: "El principal desafío fue crear una forma innovadora y atractiva de exhibir modelos 3D, permitiendo a los usuarios interactuar con ellos de manera divertida y significativa, como controlando su deconstrucción o cambiando los modelos con las manos.",
                p3mProcess: "Desarrollé esta experiencia en TouchDesigner, enfocándome en la integración del hand tracking para una manipulación intuitiva. Lo más complejo fue diseñar los algoritmos de deconstrucción y el sistema de reconocimiento gestual que permitiera a los usuarios controlar los modelos 3D en tiempo real, ofreciendo una interacción fluida y reactiva con los objetos virtuales.",
                p4mTitle: "Galería VR para Fotógrafos",
                p4mSubtitle: "Exhibición Virtual Inmersiva en Concepción",
                p4mChallenge: "El reto era diseñar una galería virtual inmersiva para un evento de fotógrafos en Concepción, que permitiera exhibir sus obras de una manera innovadora y envolvente utilizando la realidad virtual.",
                p4mProcess: "Trabajé en Unity, diseñando la arquitectura virtual de la galería y la disposición de los cuadros. La decoración y la ambientación se realizaron a medida según los requerimientos del evento, buscando crear un espacio que realzara las obras fotográficas. La implementación se optimizó para funcionar fluidamente en dispositivos Meta Quest 2.",
                p5mTitle: "App Móvil para Bomberos",
                p5mSubtitle: "Herramienta de Entrenamiento para Emergencias",
                p5mChallenge: "El principal desafío fue crear una herramienta de entrenamiento digital para bomberos, que les permitiera aprender y repasar la ubicación del material en el carro bomba, así como consultar procedimientos vitales, de una forma cómoda e intuitiva.",
                p5mProcess: "Desarrollé la aplicación en Unity, enfocándome en la creación de modelos 3D detallados de las herramientas y el carro. La interfaz fue diseñada como una herramienta de estudio eficaz, con un sistema de navegación optimizado para el aprendizaje y la consulta rápida de procedimientos clave, como el manual IFTA, fortaleciendo así su preparación para emergencias reales.",
                p6mTitle: "PalCarrete App",
                p6mSubtitle: "Juego Móvil Dinámico para Eventos Sociales",
                p6mChallenge: "El reto fue desarrollar un juego de beber móvil que fuera gratuito, entretenido y que ofreciera una experiencia dinámica para evitar la monotonía, a diferencia de otras opciones existentes en el mercado.",
                p6mProcess: "El desarrollo se centró en Unity. Lo más complejo fue diseñar e implementar el sistema de jugadores y la asignación aleatoria y justa de cartas. Se creó una arquitectura modular para los retos, permitiendo su dinamismo y el cambio constante del orden de aparición para asegurar la rejugabilidad.",
                // More Projects
                moreProjectsTitle: "Más Proyectos",
                moreProjectsSubtitle: "Otros trabajos y exploraciones creativas.",
                moreProjectsSelect: "Selecciona un proyecto de la lista para ver los detalles.",
                moreProjectsCategoryTD: "TouchDesigner",
                moreProjectsCategoryUnity: "Unity",
                moreProjectsCategory3D: "Modelado",
                moreProjectsCategoryAnim: "Animación",
                mp: [ 
                    { id: 'mp1', cat: 'touchdesigner', title: 'Partículas Interactivas', desc: 'Exploración de sistemas de partículas interactivas que reaccionan al movimiento.', video: 'BrF5mKbddZE' }, 
                    { id: 'mp2', cat: 'touchdesigner', title: 'Texto Interactivo', desc: 'Efectos de texto generativos que responden a estímulos en tiempo real.', video: 'd-ucKBghC5s' }, 
                    { id: 'mp3', cat: 'touchdesigner', title: 'Revelación de Imagen Interactiva', desc: 'Técnica para revelar imágenes de forma dinámica utilizando la interacción del usuario.', video: 'D4bLje0H558' },
                    { id: 'mp4', cat: 'unity', title: 'Fragnesia VR', desc: 'Prototipo de juego de terror inmersivo para Realidad Virtual, enfocado en la atmósfera y el sonido.', video: 'PLvrUPV4Qsg' },
                    { id: 'mp5', cat: 'unity', title: 'Cuna de Prat AR', desc: 'Reconstrucción arquitectónica virtual de la "Cuna de Prat" en Talcahuano usando Realidad Aumentada.', video: 'SoqMsK8s3WQ' },
                    { id: 'mp6', cat: '3d', title: 'Espada de Aatrox', desc: 'Diseño y modelado 3D high-poly de la espada del personaje Aatrox (League of Legends).', video: 'Ixkim4BBWHE' },
                    { id: 'mp8', cat: 'animacion', title: 'Poema Visual: Eterno Retorno', desc: 'Cortometraje de animación 3D basado en conceptos filosóficos y estéticas surreales.', video: 'y-mD6fsNElw' }
                ],
                // Contact
                contactTitle: "Hablemos",
                contactSubtitle: "¿Tienes un proyecto en mente o una oportunidad para mí? ¡No dudes en contactarme!",
                contactBtnCopy: "Copiar",
                contactCopyFeedback: "¡Copiado!",
                // Footer
                footerRights: "&copy; 2025 Ignacio Aguayo. Todos los derechos reservados.",
                footerBtnDestroy: "¡Destruir Página!",
                // Reset
                resetTitle: "¿Qué has hecho? ¡Mi portafolio! :c",
                resetBtn: "Explorar de Nuevo"
            },
            en: {
                // Nav
                navAbout: "About Me",
                navProjects: "Projects",
                navContact: "Contact Me",
                navAboutMobile: "About Me",
                navProjectsMobile: "Projects",
                navContactMobile: "Contact Me",
                langEN: "EN",
                langES: "ES",
                // Hero
                heroTitle: 'Hi, I\'m <span class="text-blue-400">Ignacio Aguayo</span>',
                heroSubtitle: "Creative Technologist. I build interactive experiences that connect the digital and physical worlds.",
                heroBtnProjects: "View My Projects",
                heroBtnContact: "Let's Talk",
                // About
                aboutTitle: "About Me",
                aboutBio: "I am a creative technologist passionate about the intersection of art and code. My focus is on creating immersive and interactive experiences that challenge perception and connect with people on a deeper level.",
                // Skills
                skillsTitle: "My Skills",
                skillUnity: "Unity",
                skillVrAr: "VR/AR Development",
                skillMobile: "Mobile Apps",
                skillTouchdesigner: "TouchDesigner",
                skillUiUx: "UX/UI Design",
                skillInteractive: "Interactive Experiences",
                skillShaders: "Shaders & Generative Visuals",
                skillCreativeCoding: "Creative Coding",
                // Projects
                projectsTitle: "Featured Projects",
                projectsSubtitle: "A selection of my best work.",
                pBtnDetails: "View Details",
                p1Title: "Interactive Circular Gallery",
                p1Desc: "A TouchDesigner experience with a circular gallery controlled by hand tracking.",
                p2Title: "Gestural Harmonies: Interactive Visual AI",
                p2Desc: "A TouchDesigner application that generates images with AI based on hand gestures.",
                p3Title: "Interactive 3D Deconstruction",
                p3Desc: "An interactive experience that deconstructs 3D models using hand tracking in TouchDesigner.",
                p4Title: "VR Gallery for Photographers",
                p4Desc: "A virtual gallery app in VR for Meta Quest 2, designed for a photographers' event.",
                p5Title: "Mobile App for Firefighters",
                p5Desc: "App designed to locate equipment and consult procedures on fire trucks.",
                p6Title: "PalCarrete App",
                p6Desc: "A mobile drinking game with a system of challenges, punishments, and different game cards.",
                 // Modal
                modalChallenge: "The Challenge",
                modalProcess: "My Process",
                modalTech: "Technologies Used",
                p1mTitle: "Interactive Circular Gallery",
                p1mSubtitle: "Immersive Navigation with TouchDesigner",
                p1mChallenge: "The challenge was to create an innovative way to present images, seeking an experience that went beyond static viewing and fostered deeper user interaction.",
                p1mProcess: "To achieve intuitive interaction, I chose hand tracking as the control method. The main technical challenge was combining the spherical gallery with the precision of hand tracking, which required careful gestural design and optimization for a fluid experience.",
                p2mTitle: "Gestural Harmonies: Interactive Visual AI",
                p2mSubtitle: "Content Creation with Gestures and Algorithms",
                p2mChallenge: "The challenge was to develop an experience that allowed users to generate visuals through hand movements, merging physical expression with algorithmic image generation.",
                p2mProcess: "I implemented real-time hand tracking via TouchDesigner to capture and translate movements into parameters that fed a generative neural network. The main challenge was optimizing the AI's response time to ensure images were generated smoothly and coherently with the user's gestural intent.",
                p3mTitle: "Interactive 3D Deconstruction",
                p3mSubtitle: "Exhibition and Manipulation of 3D Models with Gestures",
                p3mChallenge: "The main challenge was to create an innovative and engaging way to display 3D models, allowing users to interact with them in a fun and meaningful way, such as controlling their deconstruction or changing models with their hands.",
                p3mProcess: "I developed this experience in TouchDesigner, focusing on integrating hand tracking for intuitive manipulation. The most complex part was designing the deconstruction algorithms and the gesture recognition system that allowed users to control the 3D models in real-time, providing a fluid and reactive interaction with the virtual objects.",
                p4mTitle: "VR Gallery for Photographers",
                p4mSubtitle: "Immersive Virtual Exhibition in Concepción",
                p4mChallenge: "The challenge was to design an immersive virtual gallery for a photographers' event in Concepción, allowing them to exhibit their work in an innovative and engaging way using virtual reality.",
                p4mProcess: "I worked in Unity, designing the gallery's virtual architecture and the layout of the artworks. The decoration and atmosphere were customized according to the event's requirements, aiming to create a space that enhanced the photographic works. The implementation was optimized to run smoothly on Meta Quest 2 devices.",
                p5mTitle: "Mobile App for Firefighters",
                p5mSubtitle: "Emergency Training Tool",
                p5mChallenge: "The main challenge was to create a digital training tool for firefighters that would allow them to learn and review the location of equipment on the fire truck, as well as consult vital procedures, in a comfortable and intuitive way.",
                p5mProcess: "I developed the application in Unity, focusing on creating detailed 3D models of the tools and the fire truck. The user interface was designed as an effective study tool, with a navigation system optimized for learning and quick reference of key procedures, such as the IFTA manual, thereby strengthening their preparation for real emergencies.",
                p6mTitle: "PalCarrete App",
                p6mSubtitle: "Dynamic Mobile Game for Social Events",
                p6mChallenge: "The challenge was to develop a mobile drinking game that was free, entertaining, and offered a dynamic experience to avoid monotony, unlike other options on the market.",
                p6mProcess: "Development was centered in Unity. The most complex part was designing and implementing the player system and the random and fair card assignment. A modular architecture was created for the challenges, allowing for dynamism and a constantly changing order of appearance to ensure replayability.",
                // More Projects
                moreProjectsTitle: "More Projects",
                moreProjectsSubtitle: "Other works and creative explorations.",
                moreProjectsSelect: "Select a project from the list to see the details.",
                moreProjectsCategoryTD: "TouchDesigner",
                moreProjectsCategoryUnity: "Unity",
                moreProjectsCategory3D: "3D Modeling",
                moreProjectsCategoryAnim: "Animation",
                mp: [ 
                    { id: 'mp1', cat: 'touchdesigner', title: 'Interactive Particles', desc: 'Exploration of interactive particle systems that react to movement.', video: 'BrF5mKbddZE' }, 
                    { id: 'mp2', cat: 'touchdesigner', title: 'Interactive Text', desc: 'Generative text effects that respond to real-time stimuli.', video: 'd-ucKBghC5s' }, 
                    { id: 'mp3', cat: 'touchdesigner', title: 'Interactive Image Reveal', desc: 'Technique for dynamically revealing images using user interaction.', video: 'D4bLje0H558' },
                    { id: 'mp4', cat: 'unity', title: 'Fragnesia VR', desc: 'Immersive VR horror game prototype, focusing on atmosphere and sound.', video: 'PLvrUPV4Qsg' },
                    { id: 'mp5', cat: 'unity', title: 'Cuna de Prat AR', desc: 'Virtual architectural reconstruction of "Cuna de Prat" in Talcahuano using Augmented Reality.', video: 'SoqMsK8s3WQ' },
                    { id: 'mp6', cat: '3d', title: 'Aatrox\'s Sword', desc: 'High-poly 3D design and modeling of the Aatrox (League of Legends) character\'s sword.', video: 'Ixkim4BBWHE' },
                    { id: 'mp8', cat: 'animacion', title: 'Visual Poem: Eternal Return', desc: '3D animation short film based on philosophical concepts and surreal aesthetics.', video: 'y-mD6fsNElw' }
                ],
                // Contact
                contactTitle: "Let's Talk",
                contactSubtitle: "Have a project in mind or an opportunity for me? Don't hesitate to get in touch!",
                contactBtnCopy: "Copy",
                contactCopyFeedback: "Copied!",
                // Footer
                footerRights: "&copy; 2025 Ignacio Aguayo. All rights reserved.",
                footerBtnDestroy: "Destroy Page!",
                // Reset
                resetTitle: "What have you done?! My portfolio! :c",
                resetBtn: "Explore Again"
            }
        };

        // --- (MOVED UP) MORE PROJECTS MASTER-DETAIL SCRIPT ---
        const projectListContainer = document.getElementById('more-projects-list');
        const detailPlaceholder = document.getElementById('detail-placeholder');
        const detailContent = document.getElementById('detail-content');
        const detailTitle = document.getElementById('detail-title');
        const detailDesc = document.getElementById('detail-desc');
        const detailVideo = document.getElementById('detail-video');
        let currentActiveProjectItem = null;

        // (NEW) Helper function to reset detail view
        function resetDetailView() {
            if (detailPlaceholder) detailPlaceholder.classList.remove('hidden');
            if (detailContent) detailContent.classList.add('hidden');
            if (detailVideo) detailVideo.src = '';
            if (currentActiveProjectItem) {
                 currentActiveProjectItem.classList.remove('bg-blue-800', 'text-white');
                 currentActiveProjectItem.classList.add('text-gray-300', 'hover:bg-blue-900/50');
            }
            currentActiveProjectItem = null;
        }

        // (RESTORED) The missing function
        function setupMoreProjects(lang) {
            if (!projectListContainer) return;

            const projectData = translations[lang].mp;
            let listHTML = '';
            
            projectData.forEach(project => {
                listHTML += `
                    <button class="more-project-item w-full text-left p-4 text-gray-300 hover:bg-blue-900/50 transition-colors duration-200" 
                            data-project-id="${project.id}" 
                            data-category="${project.cat}">
                        ${project.title}
                    </button>
                `;
            });
            projectListContainer.innerHTML = listHTML;

            // Add click listeners
            const projectItems = projectListContainer.querySelectorAll('.more-project-item');
            projectItems.forEach(item => {
                item.addEventListener('click', () => {
                    const projectId = item.dataset.projectId;
                    const project = translations[lang].mp.find(p => p.id === projectId);
                    
                    if (project) {
                        if (detailPlaceholder) detailPlaceholder.classList.add('hidden');
                        if (detailContent) detailContent.classList.remove('hidden');
                        
                        if (detailTitle) detailTitle.textContent = project.title;
                        if (detailDesc) detailDesc.textContent = project.desc;
                        // (FIXED) Corrected video URL, checking for 'shorts'
                        let videoSrc = '';
                        if (project.video.includes('shorts')) {
                            const videoId = project.video.split('/').pop().split('?')[0]; // Get ID from shorts URL
                            videoSrc = `https://www.youtube.com/embed/${videoId}`;
                        } else {
                            const videoId = project.video.split('v=').pop().split('&')[0]; // Get ID from watch URL
                            videoSrc = `https://www.youtube.com/embed/${videoId}`;
                        }
                        if (detailVideo) detailVideo.src = videoSrc;
                        
                        if (currentActiveProjectItem) {
                             currentActiveProjectItem.classList.remove('bg-blue-800', 'text-white');
                             currentActiveProjectItem.classList.add('text-gray-300', 'hover:bg-blue-900/50');
                        }
                        item.classList.add('bg-blue-800', 'text-white');
                        item.classList.remove('text-gray-300', 'hover:bg-blue-900/50');
                        currentActiveProjectItem = item;
                    }
                });
            });

            // Reset detail view if language is switched
            resetDetailView();
        }

        // (MODIFIED) Combined the two duplicate switchLanguage functions
        function switchLanguage(lang) {
            document.documentElement.lang = lang;
            const elements = document.querySelectorAll('[data-lang-key]');
            elements.forEach(el => {
                const key = el.dataset.langKey;
                if (translations[lang][key]) {
                    el.innerHTML = translations[lang][key];
                }
            });

            // Update modal data attributes
            const modalTriggers = document.querySelectorAll('[data-modal-trigger]');
            modalTriggers.forEach(trigger => {
                const prefix = trigger.dataset.langKeyPrefix;
                if (prefix) {
                    trigger.dataset.title = translations[lang][`${prefix}Title`] || trigger.dataset.title;
                    trigger.dataset.subtitle = translations[lang][`${prefix}Subtitle`] || trigger.dataset.subtitle;
                    trigger.dataset.challenge = translations[lang][`${prefix}Challenge`] || trigger.dataset.challenge;
                    trigger.dataset.process = translations[lang][`${prefix}Process`] || trigger.dataset.process;
                }
            });
            langToggle.checked = lang === 'es';
            
            // This is where the error was. setupMoreProjects must be defined.
            setupMoreProjects(lang); 
        }

        const langToggle = document.getElementById('lang-toggle');
        langToggle.addEventListener('change', () => {
            currentLang = langToggle.checked ? 'es' : 'en';
            switchLanguage(currentLang);
        });

        // Set initial language
        let currentLang = 'es';
        switchLanguage('es'); // This call failed

        // --- (NEW) MORE PROJECTS FILTER SCRIPT ---
        const filterButtonsMore = document.querySelectorAll('#filter-buttons-more .filter-btn-more');
        
        if (filterButtonsMore.length > 0 && projectListContainer) {
            filterButtonsMore.forEach(button => {
                button.addEventListener('click', () => {
                    const category = button.dataset.category;
                    
                    // Update button styles
                    filterButtonsMore.forEach(btn => {
                        btn.classList.remove('bg-blue-600', 'text-white');
                        btn.classList.add('bg-gray-700/50', 'text-gray-200', 'hover:bg-gray-700/80');
                    });
                    button.classList.add('bg-blue-600', 'text-white');
                    button.classList.remove('bg-gray-700/50', 'text-gray-200', 'hover:bg-gray-700/80');

                    // Filter list
                    const projectItems = projectListContainer.querySelectorAll('.more-project-item');
                    projectItems.forEach(item => {
                        if (category === 'all' || item.dataset.category === category) {
                            item.style.display = 'block';
                        } else {
                            item.style.display = 'none';
                        }
                    });

                    // Reset detail view
                    resetDetailView();
                });
            });
        }

        // --- Mobile menu toggle script ---
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

        // --- INTERACTIVE STARFIELD BACKGROUND SCRIPT ---
        const canvas = document.getElementById('starfield-canvas');
        if (canvas) {
            const ctx = canvas.getContext('2d');

            let stars;
            let shootingStars = [];
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            let mouse = { x: undefined, y: undefined, radius: 150 };

            window.addEventListener('mousemove', (event) => { mouse.x = event.x; mouse.y = event.y; });
            window.addEventListener('mouseout', () => { mouse.x = undefined; mouse.y = undefined; });

            class Star {
                constructor(x, y, speedX, speedY, size, color) {
                    this.x = x; this.y = y; this.speedX = speedX; this.speedY = speedY; this.size = size; this.color = color;
                    this.baseX = this.x; this.baseY = this.y; this.density = (Math.random() * 30) + 1;
                }
                draw() {
                    ctx.fillStyle = this.color; ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.closePath(); ctx.fill();
                }
                update() {
                    let dx = mouse.x - this.x; let dy = mouse.y - this.y; let distance = Math.sqrt(dx * dx + dy * dy);
                    if (distance < mouse.radius) {
                        let forceDirectionX = dx / distance; let forceDirectionY = dy / distance; let maxDistance = mouse.radius;
                        let force = (maxDistance - distance) / maxDistance;
                        let directionX = forceDirectionX * force * this.density; let directionY = forceDirectionY * force * this.density;
                        this.x -= directionX; this.y -= directionY;
                    } else {
                        if (this.x !== this.baseX) { let dx = this.x - this.baseX; this.x -= dx/10; }
                        if (this.y !== this.baseY) { let dy = this.y - this.baseY; this.y -= dy/10; }
                    }
                    this.x += this.speedX; this.y += this.speedY;
                    if (this.x > canvas.width) this.x = 0; if (this.x < 0) this.x = canvas.width;
                    if (this.y > canvas.height) this.y = 0; if (this.y < 0) this.y = canvas.height;
                    this.draw();
                }
            }

            class ShootingStar {
                constructor() { this.reset(); }
                reset() {
                    this.x = Math.random() * canvas.width; this.y = 0; this.len = (Math.random() * 80) + 10; this.speed = (Math.random() * 10) + 6;
                    this.size = (Math.random() * 1) + 0.5; this.waitTime = new Date().getTime() + (Math.random() * 6000) + 1000; this.active = false;
                }
                update() {
                    if (this.active) {
                        this.x += this.speed; this.y += this.speed * 0.5;
                        if (this.x > canvas.width || this.y > canvas.height) { this.reset(); } else { this.draw(); }
                    } else { if (new Date().getTime() > this.waitTime) { this.active = true; } }
                }
                draw() {
                    const grad = ctx.createLinearGradient(this.x, this.y, this.x - this.len, this.y - (this.len * 0.5));
                    grad.addColorStop(0, `rgba(255, 255, 255, ${this.size})`); grad.addColorStop(1, 'rgba(255, 255, 255, 0)');
                    ctx.strokeStyle = grad; ctx.lineWidth = this.size; ctx.beginPath(); ctx.moveTo(this.x, this.y);
                    ctx.lineTo(this.x - this.len, this.y - (this.len * 0.5)); ctx.stroke();
                }
            }

            function init() {
                stars = []; let numberOfStars = (canvas.height * canvas.width) / 5000;
                for (let i = 0; i < numberOfStars; i++) {
                    let size = Math.random() * 1.5 + 0.5; let x = Math.random() * canvas.width; let y = Math.random() * canvas.height;
                    let speedX = (Math.random() * 0.2) - 0.1; let speedY = (Math.random() * 0.2) - 0.1;
                    let color = 'rgba(59, 130, 246, ' + (Math.random() * 0.7 + 0.3) + ')';
                    stars.push(new Star(x, y, speedX, speedY, size, color));
                }
                shootingStars = []; for (let i = 0; i < 3; i++) { shootingStars.push(new ShootingStar()); }
            }

            function animate() {
                requestAnimationFrame(animate); 
                if (ctx) {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    stars.forEach(s => s.update()); 
                    shootingStars.forEach(ss => ss.update());
                }
            }

            window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; init(); });
            init(); animate();
        }

        // --- PROJECT MODAL SCRIPT ---
        const modalTriggers = document.querySelectorAll('[data-modal-trigger]');
        const modal = document.getElementById('project-modal');
        const modalContent = document.getElementById('modal-content');
        const modalCloseBtn = document.getElementById('modal-close-btn');

        const modalElements = {
            title: document.getElementById('modal-title'),
            subtitle: document.getElementById('modal-subtitle'),
            video: document.getElementById('modal-video'),
            challenge: document.getElementById('modal-challenge'),
            process: document.getElementById('modal-process'),
            tech: document.getElementById('modal-tech'),
        };
        
        function openModal(trigger) {
            const data = trigger.dataset;
            modalElements.title.textContent = data.title || 'Título del Proyecto';
            modalElements.subtitle.textContent = data.subtitle || '';
            modalElements.video.src = data.videoId ? `https://www.youtube.com/embed/${data.videoId}` : '';
            modalElements.challenge.textContent = data.challenge || 'No hay descripción disponible.';
            modalElements.process.textContent = data.process || 'No hay descripción disponible.';
            
            modalElements.tech.innerHTML = '';
            if (data.tech) {
                try {
                    const techArray = JSON.parse(data.tech.replace(/'/g, '"'));
                    techArray.forEach(techName => {
                        const techTag = document.createElement('span');
                        techTag.className = 'bg-blue-900/50 text-blue-300 px-3 py-1 rounded-full font-medium text-sm';
                        techTag.textContent = techName;
                        modalElements.tech.appendChild(techTag);
                    });
                } catch(e) {
                    console.error("Could not parse tech data: ", e, data.tech);
                }
            }

            modal.classList.remove('pointer-events-none');
            modal.classList.remove('opacity-0');
            modalContent.classList.remove('scale-95');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            modal.classList.add('opacity-0');
            modalContent.classList.add('scale-95');
            setTimeout(() => {
                modal.classList.add('pointer-events-none');
                modalElements.video.src = ''; // Detiene el video al cerrar
                document.body.style.overflow = '';
            }, 300); // Wait for transition to finish
        }

        modalTriggers.forEach(trigger => {
            trigger.addEventListener('click', () => {
                openModal(trigger);
            });
        });

        modalCloseBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModal();
            }
        });
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !modal.classList.contains('pointer-events-none')) {
                closeModal();
            }
        });

        // --- COPY EMAIL SCRIPT ---
        const copyEmailBtn = document.getElementById('copy-email-btn');
        const emailText = document.getElementById('email-text');
        const copyFeedback = document.getElementById('copy-feedback');

        copyEmailBtn.addEventListener('click', () => {
            const textToCopy = emailText.textContent;
            
            const textArea = document.createElement('textarea');
            textArea.value = textToCopy;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            
            copyFeedback.classList.remove('opacity-0');
            setTimeout(() => {
                copyFeedback.classList.add('opacity-0');
            }, 2000);
        });

        // --- SUPERNOVA DESTRUCTION SCRIPT ---
        const destroyBtn = document.getElementById('destroy-btn');
        const supernovaCore = document.getElementById('supernova-core');
        const resetOverlay = document.getElementById('reset-overlay');
        const resetBtn = document.getElementById('reset-btn');

        destroyBtn.addEventListener('click', () => {
            document.body.style.overflow = 'hidden';
            destroyBtn.style.display = 'none';
            supernovaCore.classList.remove('hidden');
            
            const elementsToDestroy = Array.from(document.querySelectorAll('header, main > section'));
            const viewportCenterX = window.innerWidth / 2;
            const viewportCenterY = window.innerHeight / 2;

            elementsToDestroy.forEach((el, index) => {
                const rect = el.getBoundingClientRect();
                const elCenterX = rect.left + rect.width / 2;
                const elCenterY = rect.top + rect.height / 2;
                const deltaX = elCenterX - viewportCenterX;
                const deltaY = elCenterY - viewportCenterY;
                const moveX = deltaX * 3;
                const moveY = deltaY * 3;
                const rotation = (Math.random() - 0.5) * 360;

                el.style.transition = `all 1.5s ease-in-out ${index * 100}ms`;
                el.style.transformOrigin = 'center center';
                
                setTimeout(() => {
                    el.style.transform = `translateX(${moveX}px) translateY(${moveY}px) scale(0.5) rotate(${rotation}deg)`;
                    el.style.opacity = '0';
                }, 50);
            });
            
            const totalAnimationTime = (elementsToDestroy.length - 1) * 100 + 1500;

            setTimeout(() => {
                const finalSize = Math.max(window.innerWidth, window.innerHeight) * 3;
                supernovaCore.style.transition = 'all 0.5s ease-in';
                supernovaCore.style.width = `${finalSize}px`;
                supernovaCore.style.height = `${finalSize}px`;
                supernovaCore.style.opacity = '0';
                document.body.style.transition = 'background-color 0.5s ease-in';
                document.body.style.backgroundColor = '#ffffff';
            }, totalAnimationTime - 500);

            setTimeout(() => {
                resetOverlay.classList.remove('hidden');
                setTimeout(() => {
                    resetOverlay.style.opacity = '1';
                }, 10);
            }, totalAnimationTime); 
        });

        resetBtn.addEventListener('click', () => {
            sessionStorage.setItem('isRecreating', 'true');
            resetOverlay.style.transition = 'opacity 0.5s ease-out';
            resetOverlay.style.opacity = '0';
            setTimeout(() => {
                location.reload();
            }, 500);
        });

        // Initial page load animation
        window.addEventListener('load', () => {
            if (sessionStorage.getItem('isRecreating') === 'true') {
                sessionStorage.removeItem('isRecreating');
                
                const bigBangOverlay = document.createElement('div');
                bigBangOverlay.style.position = 'fixed';
                bigBangOverlay.style.inset = '0';
                bigBangOverlay.style.background = 'black';
                bigBangOverlay.style.zIndex = '9999';
                document.body.appendChild(bigBangOverlay);

                const singularity = document.createElement('div');
                singularity.style.position = 'fixed';
                singularity.style.top = '50%';
                singularity.style.left = '50%';
                singularity.style.width = '1px';
                singularity.style.height = '1px';
                singularity.style.background = 'white';
                singularity.style.borderRadius = '50%';
                singularity.style.transform = 'translate(-50%, -50%)';
                singularity.style.transition = 'all 0.5s ease-in';
                bigBangOverlay.appendChild(singularity);
                
                setTimeout(() => {
                    const size = Math.max(window.innerWidth, window.innerHeight) * 3;
                    singularity.style.width = `${size}px`;
                    singularity.style.height = `${size}px`;
                }, 50);

                setTimeout(() => {
                    bigBangOverlay.style.transition = 'opacity 1s ease-out';
                    bigBangOverlay.style.opacity = '0';
                    document.body.style.transition = 'opacity 1s ease-in';
                    document.body.style.opacity = '1';
                }, 550);

                setTimeout(() => {
                    bigBangOverlay.remove();
                }, 1550);

            } else {
                document.body.style.transition = 'opacity 1s ease-in';
                document.body.style.opacity = '1';
            }
        });

    </script>

</body>
</html>

